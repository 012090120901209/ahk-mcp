{
  "title": "Enhanced Tool Description Standard",
  "version": "1.0.0",
  "purpose": "Standardize tool descriptions with examples, usage patterns, and cross-references",
  "applicability": "All MCP tools in ahk-mcp server",

  "descriptionTemplate": {
    "structure": [
      "1. Brief summary (1-2 sentences, what the tool does)",
      "2. Common usage example with realistic data",
      "3. Advanced/edge case example",
      "4. 'What to avoid' section (common mistakes)",
      "5. 'See also' section (related tools)"
    ],

    "format": "markdown",
    "maxLength": 1500,
    "minExamples": 2,
    "requiredSections": ["summary", "examples", "related"],
    "optionalSections": ["avoid", "performance", "limitations"]
  },

  "exampleDescriptions": {
    "AHK_File_Edit": {
      "description": "Primary tool for direct AutoHotkey file editing operations: search/replace text, insert at lines, delete ranges, or replace all occurrences. Supports regex patterns, automatic backups, optional script execution after edit, and dry-run preview mode.\n\n**Common Usage**:\n```json\n{\n  \"action\": \"replace\",\n  \"search\": \"oldClassName\",\n  \"newContent\": \"newClassName\",\n  \"filePath\": \"script.ahk\"\n}\n```\n\n**Advanced: Replace all with regex**:\n```json\n{\n  \"action\": \"replace\",\n  \"search\": \"class\\\\s+(\\\\w+)\",\n  \"newContent\": \"class Refactored$1\",\n  \"regex\": true,\n  \"all\": true\n}\n```\n\n**Safe Preview (Dry-Run)**:\n```json\n{\n  \"action\": \"replace\",\n  \"search\": \"DarkMode\",\n  \"newContent\": \"ThemeMode\",\n  \"all\": true,\n  \"dryRun\": true\n}\n```\nShows what would change without modifying the file.\n\n**What to Avoid**:\n- ❌ Don't use deprecated 'content' parameter → Use 'newContent'\n- ❌ Don't skip 'dryRun' for batch operations → Always preview first\n- ❌ Don't disable backups for production files → Keep backup: true\n\n**Performance**: Handles files up to 50K lines efficiently. For larger files, use AHK_File_Edit_Advanced.\n\n**See Also**: AHK_File_Edit_Advanced, AHK_File_Edit_Small, AHK_File_View, AHK_Smart_Orchestrator"
    },

    "AHK_Smart_Orchestrator": {
      "description": "Intelligently orchestrates file detection, analysis, and viewing operations to minimize redundant tool calls. Automatically chains detect → analyze → read → edit workflow with smart caching. Reduces tool calls from 7-10 down to 3-4 by maintaining session context.\n\n**Simple View**:\n```json\n{\n  \"intent\": \"view the ColorCheckbox method\",\n  \"filePath\": \"darkmode.ahk\"\n}\n```\nAutomatically finds and displays the method.\n\n**With Debug Visibility**:\n```json\n{\n  \"intent\": \"edit the theme switching logic\",\n  \"debugMode\": true\n}\n```\nShows why each tool was called and cache decisions.\n\n**Forced Refresh**:\n```json\n{\n  \"intent\": \"analyze updated file\",\n  \"forceRefresh\": true\n}\n```\nIgnores cache, re-analyzes even if recently accessed.\n\n**What to Avoid**:\n- ❌ Don't provide vague intents → Be specific: \"edit X method\" not \"do something\"\n- ❌ Don't forget to check cache → Set debugMode: true to see cache hits/misses\n\n**Performance**: First call (cache miss) ~50-100ms, subsequent calls (cache hit) ~5-10ms.\n\n**See Also**: AHK_File_Detect, AHK_Analyze, AHK_File_View, AHK_File_Active"
    },

    "AHK_File_View": {
      "description": "Read and display AutoHotkey file contents with flexible formatting options. Supports line ranges, syntax highlighting, metadata display, and multiple output modes (raw, structured).\n\n**Basic View**:\n```json\n{\n  \"file\": \"script.ahk\",\n  \"mode\": \"raw\"\n}\n```\nDisplays entire file with line numbers.\n\n**Specific Range**:\n```json\n{\n  \"file\": \"script.ahk\",\n  \"lineStart\": 100,\n  \"lineEnd\": 150,\n  \"mode\": \"structured\",\n  \"showMetadata\": true\n}\n```\nShows lines 100-150 with file metadata.\n\n**Quick Peek (First 50 Lines)**:\n```json\n{\n  \"file\": \"script.ahk\",\n  \"maxLines\": 50\n}\n```\nPerfect for quick file inspection.\n\n**What to Avoid**:\n- ❌ Don't request entire large files → Use lineStart/lineEnd for files >1000 lines\n- ❌ Don't use raw mode for analysis → Use structured mode for better parsing\n\n**Performance**: <10ms for typical files (<5000 lines), ~50ms for very large files (>20K lines).\n\n**See Also**: AHK_Smart_Orchestrator, AHK_File_Active, AHK_Analyze"
    }
  },

  "requiredElements": {
    "summary": {
      "maxLength": 200,
      "style": "Action-oriented, clear purpose"
    },
    "examples": {
      "minimum": 2,
      "recommended": 3,
      "types": ["common", "advanced", "edge-case"],
      "format": "JSON with inline comments or separate description"
    },
    "avoidSection": {
      "format": "Bullet list with ❌ emoji",
      "content": "Common mistakes, deprecated patterns, performance pitfalls"
    },
    "relatedTools": {
      "minimum": 1,
      "maximum": 5,
      "criteria": "Tools users might need before/after this one"
    }
  },

  "migrationChecklist": [
    {
      "step": 1,
      "action": "Audit existing tool descriptions",
      "validation": "Identify which tools lack examples"
    },
    {
      "step": 2,
      "action": "Add examples to each tool",
      "validation": "Minimum 2 examples per tool"
    },
    {
      "step": 3,
      "action": "Add 'What to Avoid' sections",
      "validation": "Document deprecated patterns and common errors"
    },
    {
      "step": 4,
      "action": "Add 'See Also' cross-references",
      "validation": "Every tool references at least 1 related tool"
    },
    {
      "step": 5,
      "action": "Review with users",
      "validation": "Test descriptions with new developers"
    }
  ],

  "validationRules": {
    "description": {
      "minLength": 100,
      "maxLength": 1500,
      "required": true
    },
    "examples": {
      "minCount": 2,
      "maxCount": 5,
      "required": true,
      "validJSON": true
    },
    "relatedTools": {
      "minCount": 1,
      "maxCount": 5,
      "required": true
    }
  },

  "toolsToUpdate": [
    "AHK_File_Edit",
    "AHK_File_Edit_Advanced",
    "AHK_File_Edit_Small",
    "AHK_File_Edit_Diff",
    "AHK_Smart_Orchestrator",
    "AHK_File_View",
    "AHK_File_Active",
    "AHK_Analyze"
  ],

  "benefits": {
    "forUsers": [
      "Learn by example without trial-and-error",
      "Discover advanced features through examples",
      "Avoid common mistakes through 'What to Avoid' sections",
      "Find related tools through cross-references"
    ],
    "forMaintainers": [
      "Reduced support questions",
      "Self-documenting API",
      "Easier onboarding for contributors",
      "Better tool discoverability"
    ]
  }
}
